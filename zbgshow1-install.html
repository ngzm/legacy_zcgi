<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta http-equiv="Content-Style-Type" content="text/css"> 
<meta name="author" content="N.ZUMIN">
<meta name="description" content="人口無能ほか各種CGIフリーソフト提供など">
<meta name="keywords" content="ZUMIN、UNIX、Linux、人口無能、CGI、Perl、フリーソフト">
<link rel="stylesheet" type="text/css" href="/style/zumin.css" media="screen, projection, print">

<title>Ｚ壁紙ディスプレー１号</title>
</head>
<body>
<address>
[ <a class="magenda" href="/">HOME</a> ]
[ <a class="magenda" href="index.html">戻る</a> ]
</address>
zbgshow1 Ver.1.0.4 2003/02/15

<h1>Ｚ壁紙ディスプレー１号</h1>
<div class="content">

<!-- ============================================================================= -->
<h3 class="orange">Ｚ壁紙ディスプレー１号とは</h3>
<ul>
	<li>素材屋のみなさま方、壁紙の背景サンプル表示はどうされていますか？
	<li>壁紙ごとに HTML ファイルを用意したりしていませんか？
</ul>
<ul>
	<li>Ｚ壁紙ディスプレー１号は、壁紙ごとに HTML ファイルを作ることなく、壁紙の背景サンプル表示を行う CGI です。
	<li>壁紙の背景サンプルは、別のウインドウ、或いは、別のフレーム上に表示します。
	<li>とってもシンプルな CGI スクリプトですから、HTML がある程度理解できていれば、簡単に設置できると思います。
</ul>
<br>
<!-- ============================================================================= -->
<h3 class="orange">こんな感じです</h3>
<ul>
	<li>別ウインドウを開いて壁紙サンプルを表示する。[ <a href="demo/zbgshow1/sample1.html">サンプル</a> ] [ <a href="#SAMPLE1">組込方法</a> ]
	<li>別ウインドウを開いて壁紙サンプルを表示する（JavaScript使用）。[ <a href="demo/zbgshow1/sample2.html">サンプル</a> ] [ <a href="#SAMPLE2">組込方法</a> ]
	<li>別フレームに壁紙サンプルを表示する。[ <a href="demo/zbgshow1/sample3.html">サンプル</a> ] [ <a href="#SAMPLE3">組込方法</a> ]
</ul>

<blockquote>
別ウインドウ．．サンプルの壁紙は、有名な<a href="http://www.siliconcafe.com/gtool/" target="zumin">GTOOLさん</a>の作品です。素材の草分け的サイトで芸術的な作品が豊富です。（私は日記帳のファンです）
<p>
<a href="http://www.siliconcafe.com/gtool/" target="zumin">
<img src="../banner/miniani1.gif">
</a>
<p>
別フレーム．．サンプルの壁紙は、ずーみん村サイトの<a href="http://zumin.cside9.com/yuuri/" target="zumin">ゆうり</a>作です。<p>
<a href="http://zumin.cside9.com/yuuri/" target="zumin">
<img src="../banner/banner_yuuri.gif">
</a>
</blockquote>

<br>
<!-- ============================================================================= -->
<h3 class="orange">動作条件</h3>
<ul>
	<li>ホームページがあるサーバーでPerlを使用したCGIが使えること。
	<li>Perlのバージョンが 5（Perl5）以上であること。
	<li>ホームページがあるサーバーのOSがLinux、UNIXであり、Web Server が Apache で動作確認しています。
	<li>上記以外では動作確認していません。あしからずご了承ください。
</ul>
<br>
<!-- ============================================================================= -->
<h3 class="orange">ここからダウンロードできます</h3>
<ul>
	<li>Windowsな人 <a href="download/zbgshow1.zip">ZIP形式</a>
	<li>Linux、UNIXな人（準備中）
	<li>ダウンロードしたら自分のローカルマシン上で解凍してください。
	<li>必ず、ディレクトリ付きで解凍してください。
</ul>
<br>
<!-- ============================================================================================= -->
<h3 class="orange">ディレクトリ・ファイル構成</h3>
<ul>
    <li>zbgshow1.cgi --- Ｚ壁紙ディスプレー１号CGI本体プログラム
	<li>このプログラムファイル一本あればOK です。
</ul>
<br>
<!-- ============================================================================= -->
<h3 class="orange">ユーザー変数の編集 [ zbgshow1.cgi ]</h3>
<ul>
	<li>[ zbgshow1.cgi ]をメモ帳などのテキストエディタで開いて編集します。
	<li>設定項目は以下の2項目です。
	<ol>
		<li>壁紙ディスプレーページのタイトル [ $Title ]
		<li>壁紙ディスプレーページに表示する簡単な文章 [ $Body ]
	</ol>
</ul>
<pre><code>
        ==== zbgshow1.cgi ====
        ..
        ..
        ###################################################################
        #
        #   カスタマイズ可能変数（お好みで書き換え可）
        #
        ###################################################################
        
        $Title = '壁紙サンプル表示';
        $Body  = '表示はこんな感じです。&lt;br&gt;いかがですか？';
        ..
        ..
</code></pre>
<ul>
	<li>壁紙ディスプレーページのタイトル [ $Title ] は、壁紙が背景となったページに表示するタイトルです。
	<li>壁紙ディスプレーページに表示する簡単な文章 [ $Body ]
は、壁紙が背景となったページに表示する文章です。一言・二言くらいのメッセージを定義してください。
	<li>簡単な文章 [ $Body ] は、HTML タグが使用 OK です（「HTMLで定義してください」と言うべきか、、）。
	<li>上記以外の箇所は編集しないでください。（Perlでプログラムできる人は除く）
	<li>勢いあまって、<span>ダッシュ（’）イコール（＝）やセミコロン（；）</span>などを消してしまわないように<span>ご注意</span>ください
</ul>
<br>
<!-- ============================================================================= -->
<h3 class="orange">Perlを使用する時のおまじない行の編集 [ zbgshow1.cgi ]</h3>
<ul>
	<li>自分のホームページがあるサーバーのPerlへのパスを指定します。Perlへのパスは、ホームページを置いているサーバー管理者に聞いてください。
	<li>CGI本体プログラム [ zbgshow1.cgi ] をメモ帳などのテキストエディタで開いて編集します。
</ul>
<pre><code>
        ==== zbgshow1.cgi ====

        #!/usr/bin/perl         <==== 先頭行です。

        ..
        ..
</code></pre>
<ul>
	<li>編集するのは、zbgshow1.cgi の先頭行のみです。
</ul>
<br>
<!-- ============================================================================= -->
<h3 class="orange">サーバにアップロード</h3>
<ul>
	<li>自分のホームページがあるサーバーにディレクトリ・ファイル構成に気をつけてアップしてください。（普通にFTPでアップする手順でOKと思います。）
	<li>但し、サーバーの漢字コードに注意してください。例えば、ローカルなPCがWindowsで、サーバーがUNIXやLinuxの場合は、FTP転送時に漢字コード変換が必要になります（必要ない場合もあるが、、）。よく分からない人は、ホームページを置いているサーバー管理者に相談してください。
	<li>漢字コード変換が必要な場合は、以下に従ってアップしてください。
</ul>
<pre>
        ./zbgshow1.cgi          ---  漢字コード変換が必要です。[ FTP アスキー転送モード ]
</pre>
<br>
<!-- ============================================================================= -->
<h3 class="orange">実行権、書込権の付与</h3>
<ul>
	<li>サーバー上のCGIが動作できるように、CGIスクリプトの実行権と、ファイルへの書込み権を設定します。
	<li>サーバーにアップしたファイルやディレクトリの属性を、以下のとおりに変更してください。
</ul>
<pre>
        ./zbgshow1.cgi          ---  rwxr-xr-x [ 755 ]
</pre>
<br>
<!-- ============================================================================= -->
<a name="SAMPLE1">
<h3 class="orange">ページへの組み込み　・・その１・・<br>別ウインドウを開いて壁紙サンプルを表示する</h3>
</a>
<ul>
	<li>壁紙素材ページ(HTML)から Ｚ壁紙ディスプレー１号をリンクする記述例です。
	<li>以下の例を参考にして、HTML ファイルを記述してください。
	<li><span>赤</span>で表示しているところは、皆さんの環境に従って変更すべき箇所です。
</ul>

<blockquote>
<code>
	&lt;a href="<span>/home/cgi-bin/</span>zbgshow1.cgi?url=<span>/home/img/kabegami.gif</span>&title_col=<span>FF0000</span>&body_col=<span>0000FF</span>"<br>
	　　target="zbgshow1"&gt;<br>
	&lt;img src="<span>/home/img/kabegami.gif</span>"&gt;<br>
	&lt;/a&gt;<br>
</code>
</blockquote>

<ul>
	<li>上記例の '/home/cgi-bin/zbgshow1.cgi' は、Ｚ壁紙ディスプレー１号 CGI への URL です。
	<li>'/home/cgi-bin/' の部分は、皆さんのインストール環境にあわせて変更してください。
</ul>
<ul>
	<li>これに続く '?' マークは、これ以降は CGI へのパラメータですよという印です。
	<li>'?' マークは大事ですので、付け忘れないようにお願いします。
</ul>
<ul>
	<li>続く 'url=/home/img/kabegami.gif' の部分は、CGI へのパラメータで、背景画像の URL を指定します。
	<li>皆さんの環境にあわせて、壁紙画像への URL を記述してください。
	<li>尚、この URL は、CGI プログラムから参照できるパスを指定する必要がありますので、この例のように、絶対パスで指定した方がよいでしょう。（相対で指定する場合は、CGI プログラムから見た相対パスで指定してください。）
</ul>
<ul>
	<li>これに続く '&' マークは、CGI パラメータがもっとありますよという印です。
	<li>'&' マークも大事ですので、付け忘れないようにお願いします。
</ul>
<ul>
	<li>続く 'title_col=FF0000' の部分は、CGI パラメータで、タイトル文字色を指定します。
	<li>'FF0000' の部分を、お好みの色に変更してください。
</ul>
<ul>
	<li>これに続く '&' マークは、CGI パラメータがもっとありますよという印です。
	<li>'&' マークも大事ですので、付け忘れないようにお願いします。
</ul>
<ul>
	<li>続く 'body_col=0000FF' の部分は、CGI パラメータで、本文の文字色を指定します。
	<li>'0000FF' の部分を、お好みの色に変更してください。
</ul>

<blockquote>
<a href="demo/zbgshow1/sample1.html">設置サンプル</a>
</blockquote>
<br>
<!-- ============================================================================= -->
<a name="SAMPLE2">
<h3 class="orange">ページへの組み込み　・・その２・・<br>別ウインドウを開いて壁紙サンプルを表示する（JavaScript使用）</h3>
</a>
<ul>
	<li>壁紙素材ページ (HTML) の記述例
	<li>先ず、下のJavaScriptをHTMLソースに挿入してください。
	<li>挿入する箇所は &lt;HEAD&gt; 〜 &lt;/HEAD&gt; の間です。
</ul>

<blockquote>
<code>
	&lt;script language=javascript&gt;<br>
	&lt;!--<br>
	function BgWin( url ) {<br>
	　　var win=open(url, "zbgshow", "toolbar=no,width=300,height=400,resizable=1");<br>
	　　win.focus();<br>
	}<br>
	// --&gt;<br>
	&lt;/script&gt;<br>
</code>
</blockquote>

<ul>
    <li>次に、CGI をリンクする箇所です。
	<li><span>赤</span>で表示しているところは、皆さんの環境に従って変更すべき箇所です。
</ul>

<blockquote>
<code>
	&lt;a href="/do_javascript_function" <br>
	　　onClick="BgWin(<br>
	　　'<span>/home/cgi-bin/</span>zbgshow1.cgi?url=<span>/home/img/kabegami.gif</span>&title_col=<span>FF0000</span>&body_col=<span>0000FF</span>'<br>
	　　);return false"&gt;<br>
	&lt;img src="<span>/home/img/kabegami.gif</span>"&gt;<br>
	&lt;/a&gt;<br>
</code>
</blockquote>

<ul>
	<li>変更方法についての考え方は、上記の「・・その１・・別ウインドウを開いて壁紙サンプルを表示する」と同じですので、そちらを参照してください。
</ul>

<blockquote>
<a href="demo/zbgshow1/sample2.html">設置サンプル</a>
</blockquote>
<br>
<!-- ============================================================================= -->
<a name="SAMPLE3">
<h3 class="orange">ページへの組み込み　・・その３・・<br>別フレームに壁紙サンプルを表示する</h3>
</a>
<ul>
	<li>先ず、フレームを作る HTML ファイルを作成します。
</ul>

<blockquote>
<code>
	&lt;html&gt;<br>
	&lt;head&gt;&lt;title&gt;お好きなタイトル&lt;/title&gt;&lt;/head&gt;<br>
	<br>
	&lt;frameset rows="40%,60%"&gt;<br>
	　　&lt;frame src="frame1.html" name="frame1"&gt;<br>
	　　&lt;frame src="frame2.html" name="frame2"&gt;<br>
	&lt;/frameset&gt;<br>
	&lt;/html&gt;<br>
</code>
</blockquote>

<ul>
	<li>この例では、上下にフレームを分けました。
	<li>上部フレーム部分に壁紙素材ページ [ frame1.html ] があり、下部はその壁紙サンプル表示フレームとします。
	<li>下部フレームに指定されている [ frame2.html ] は、フレームを作る HTML から最初に一回だけよばれますから、何か、適当な説明でも書いた HTML を用意しておけばよいでしょう。
</ul>
<ul>
	<li>次に、上部フレーム部分の壁紙素材ページ [ frame1.html ] を編集します。
	<li>下の例のように、[ frame1.html ] に、このCGI をリンクするタグを埋め込みます。
	<li><span>赤</span>で表示しているところは、皆さんの環境に従って変更すべき箇所です。
</ul>

<blockquote>
<code>
	&lt;a href="<span>/home/cgi-bin/</span>zbgshow1.cgi?url=<span>/home/img/kabegami.gif</span>&title_col=<span>FF0000</span>&body_col=<span>0000FF</span>"<br>
	　　target="frame2"&gt;<br>
	&lt;img src="<span>/home/img/kabegami.gif</span>"&gt;<br>
	&lt;/a&gt;<br>
</code>
</blockquote>

<ul>
	<li>target="frame2" の部分がみそですね。。
	<li>その他、変更方法についての考え方は、上記の「その１．別ウインドウを開いて壁紙サンプルを表示する」と同じですので、そちらを参照してください。
</ul>
<blockquote>
<a href="demo/zbgshow1/sample3.html">設置サンプル</a>
</blockquote>
<!-- ============================================================================= -->
</div>

<p>
●うーん、、わからん！うごかない！などのご質問は掲示板に！<br>
●と、いいたいところですが、現在掲示板の準備中ですので、しばらくお待ちください。<br>
</p>

<address>
[ <a class="magenda" href="/">HOME</a> ]
[ <a class="magenda" href="index.html">戻る</a> ]
</address>

</body>
</html>
